{"remainingRequest":"/Users/alex/Documents/chatroom/node_modules/babel-loader/lib/index.js!/Users/alex/Documents/chatroom/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alex/Documents/chatroom/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alex/Documents/chatroom/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Documents/chatroom/src/views/Home.vue","mtime":1577974286000},{"path":"/Users/alex/Documents/chatroom/node_modules/cache-loader/dist/cjs.js","mtime":1577278180000},{"path":"/Users/alex/Documents/chatroom/node_modules/babel-loader/lib/index.js","mtime":1567333493000},{"path":"/Users/alex/Documents/chatroom/node_modules/cache-loader/dist/cjs.js","mtime":1577278180000},{"path":"/Users/alex/Documents/chatroom/node_modules/vue-loader/lib/index.js","mtime":1577278182000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBpbyBmcm9tICJzb2NrZXQuaW8tY2xpZW50IjsKaW1wb3J0IGxvY2FsZm9yYWdlIGZyb20gImxvY2FsZm9yYWdlIjsKaW1wb3J0IGRlZmF1bHRBdmEgZnJvbSAiLi4vYXNzZXRzL2RlZmF1bHRBdmEucG5nIjsKdmFyIHNvY2tldCA9IGlvKCJodHRwOi8vbG9jYWxob3N0OjgwODYiLCB7CiAgdHJhbnNwb3J0czogWyJ3ZWJzb2NrZXQiLCAieGhyLXBvbGxpbmciLCAianNvbnAtcG9sbGluZyJdLAogIGF1dG9Db25uZWN0OiBmYWxzZQp9KTsgLy/pobrluKbop6PlhrPmnKzlnLDnmoTot6jln58KCmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgcmVnaXN0ZXIgYXMgX3JlZ2lzdGVyLCBjaGVja0xvZ2luLCBnZXRGcmllbmRMaXN0IGFzIF9nZXRGcmllbmRMaXN0IH0gZnJvbSAiLi4vYXBpL2NoYXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2VMaXN0OiBbewogICAgICAgIHVzZXJfbmFtZTogIuiBiuWkqeW5v+WcuiIsCiAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgYXZhOiAiaHR0cHM6Ly9zczIuYmRzdGF0aWMuY29tLzcwY0Z2blNoX1ExWW54R2twb1dLMUhGNmhoeS9pdC91PTE4NjkzODY3NTYsMTc0OTcyNTM4MiZmbT0yNiZncD0wLmpwZyIsCiAgICAgICAgaXNfcmVhZDogMSwKICAgICAgICBtZXNzYWdlX2xpc3Q6IFtdCiAgICAgIH1dLAogICAgICAvL+a2iOaBr+agjwogICAgICBsb2dpblN0YXR1czogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHVzZXI6ICIiLAogICAgICBwd2Q6ICIiLAogICAgICBhZGRGcmllbmRNb2RhbDogZmFsc2UsCiAgICAgIC8vIOWKoOWlveWPi+eahOW8ueeqlwogICAgICBtb2RhbF9hY3RpdmVfdXNlcjogbnVsbCwKICAgICAgLy8g5Yqg5aW95Y+L5by556qX5pqC5a2Y55qE6KKr5re75Yqg6ICFCiAgICAgIHBlcnNvbm5hbEluZm9Nb2RhbDogZmFsc2UsCiAgICAgIC8v5Liq5Lq65L+h5oGv5by556qXCiAgICAgIHVzZXJfYXZhOiAiIiwKICAgICAgZGVmYXVsdEF2YTogZGVmYXVsdEF2YSwKICAgICAgLy/pu5jorqTlpLTlg48KICAgICAgZnJpZW5kTGlzdDogW10sCiAgICAgIG5ld0ZyaWVuZExpc3Q6IFtdLAogICAgICAvL+aWsOeahOWlveWPi+ivt+axguWIl+ihqAogICAgICBib3R0b21TaGVldE9wZW46IGZhbHNlLAogICAgICBib3R0b21Ob3dJbmRleDogbnVsbCwKICAgICAgLy/lvZPliY3mraPlnKjmk43kvZznmoTlpb3lj4sg5Zyo5pWw57uE5Lit55qE5L2N572uCiAgICAgIGFjdGl2ZV90eXBlOiAiY2hhdCIsCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgLy/lvZPliY3ogYrlpKnmoYbogYrlpKnkv6Hmga8KICAgICAgYWN0aXZlX2NoYXQ6ICLogYrlpKnlub/lnLoiLAogICAgICAvL+W9k+WJjeiBiuWkqeahhuaJgOWxngogICAgICBtZXNzYWdlOiAiIiwKICAgICAgLy/lj5HpgIHmoYblhoXnmoTkv6Hmga8KICAgICAgaW5wdXRfYWRkRnJpZW5kRGlhbG9nOiBmYWxzZSAvL+i+k+WFpeWlveWPi+i0puWPtyDmt7vliqDlpb3lj4sKCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy/lpITnkIbov57mjqUKICAgIHNvY2tldC5vbigiY29ubmVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuJHRvYXN0LnN1Y2Nlc3MoIuiBiuWkqeWupOi/nuaOpeato+W4uCIpOwogICAgfSk7IC8v5aSE55CG5aSx6L+eCgogICAgc29ja2V0Lm9uKCJkaXNjb25uZWN0IiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy4kdG9hc3QuZXJyb3IoIuWkseWOu+i/nuaOpSIpOwogICAgfSk7IC8v5qOA5p+l5piv5ZCm5bey57uP55m75b2V6L+HCgogICAgdGhpcy5jaGVja0lmTG9naW4oKTsgLy/lpITnkIblub/mkq0KCiAgICBzb2NrZXQub24oInNheWJhY2siLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAiLzsuIjsKCiAgICAgIHZhciBpbmRleCA9IF90aGlzLmZpbmRJbmRleEJ5VXNlcm5hbWUoIuiBiuWkqeW5v+WcuiIpOwoKICAgICAgaWYgKF90aGlzLmFjdGl2ZV9jaGF0ID09PSAi6IGK5aSp5bm/5Zy6IikgewogICAgICAgIF90aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5pc19yZWFkID0gMTsKICAgICAgICBfdGhpcy5tZXNzYWdlTGlzdFtpbmRleF0ubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKCiAgICAgICAgX3RoaXMubWVzc2FnZUxpc3RbaW5kZXhdLm1lc3NhZ2VfbGlzdC5wdXNoKGRhdGEpOwoKICAgICAgICBfdGhpcy5tZXNzYWdlcy5wdXNoKGRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5tZXNzYWdlX2xpc3QucHVzaChkYXRhKTsKCiAgICAgICAgX3RoaXMubWVzc2FnZUxpc3RbaW5kZXhdLmlzX3JlYWQgPSAwOwogICAgICB9CiAgICB9KTsgLy/mjqXmlLbngrnlr7nngrnogYrlpKnmtojmga8KCiAgICBzb2NrZXQub24oImNoYXRCYWNrIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMuaGFuZGxlQ2hhdE1lc3NhZ2UoZGF0YSk7CiAgICB9KTsKICAgIHNvY2tldC5vbigiY2hhdEJhY2tTZWxmIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIGluZGV4ID0gX3RoaXMuZmluZEluZGV4QnlVc2VybmFtZShfdGhpcy5hY3RpdmVfY2hhdCk7CgogICAgICBfdGhpcy5tZXNzYWdlcy5wdXNoKGRhdGEpOwoKICAgICAgX3RoaXMubWVzc2FnZUxpc3RbaW5kZXhdLm1lc3NhZ2VfbGlzdC5wdXNoKGRhdGEpOwoKICAgICAgX3RoaXMuc3Jjb2xsVG9Cb3R0b20oKTsKCiAgICAgIF90aGlzLnN5bmNUb0xvY2FsKCk7CiAgICB9KTsgLy/ogYrlpKnlub/lnLog5aSE55CG6Ieq5bex55qE5raI5oGvCgogICAgc29ja2V0Lm9uKCJzZWxmIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMubWVzc2FnZXMucHVzaChkYXRhKTsKCiAgICAgIF90aGlzLm1lc3NhZ2VMaXN0WzBdLm1lc3NhZ2VfbGlzdC5wdXNoKGRhdGEpOwogICAgfSk7IC8v5Yir5Lq65Y+R5p2l55qE5aW95Y+L6K+35rGCCgogICAgc29ja2V0Lm9uKCJhZGRGcmllbmRGcm9tIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMubmV3RnJpZW5kTGlzdC51bnNoaWZ0KGRhdGEpOwogICAgfSk7IC8v5qOA5p+l56a757q/5raI5oGvCgogICAgc29ja2V0Lm9uKCdvZmZMaW5lTWVzc2FnZXMnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpcy5oYW5kbGVDaGF0TWVzc2FnZShKU09OLnBhcnNlKGl0ZW0pKTsKICAgICAgfSk7CiAgICAgIHNvY2tldC5lbWl0KCdvZmZMaW5lTWVzc2FnZXNSZWNlaXZlZCcsIHsKICAgICAgICB1c2VyOiBfdGhpcy51c2VyCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgc29ja2V0LmNsb3NlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/nlKjmiLflpLTlg48KICAgICAgbG9jYWxmb3JhZ2UuZ2V0SXRlbSgidXNlcl9hdmEiLCBmdW5jdGlvbiAoZXJyLCB2YWx1ZSkgewogICAgICAgIGVyciAmJiBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgX3RoaXMyLnVzZXJfYXZhID0gdmFsdWU7CiAgICAgIH0pOyAvL+a2iOaBr+iusOW9lQoKICAgICAgbG9jYWxmb3JhZ2UuZ2V0SXRlbSgiY2hhdEhpc3RvcnlfIiArIHRoaXMudXNlciwgZnVuY3Rpb24gKGVyciwgdmFsdWUpIHsKICAgICAgICBlcnIgJiYgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgIF90aGlzMi5tZXNzYWdlTGlzdCA9IHZhbHVlIHx8IF90aGlzMi5tZXNzYWdlTGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy/ogYrlpKnlub/lnLoKICAgIHN1Ym1pdE1lc3NhZ2U6IGZ1bmN0aW9uIHN1Ym1pdE1lc3NhZ2UoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UgPT0gIiIpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLmFjdGl2ZV9jaGF0ID09ICLogYrlpKnlub/lnLoiKSB7CiAgICAgICAgLy/nvqTlj5EKICAgICAgICBzb2NrZXQuZW1pdCgic2F5IiwgewogICAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLAogICAgICAgICAgdXNlcjogdGhpcy51c2VyLAogICAgICAgICAgdXNlcl9hdmE6IHRoaXMudXNlcl9hdmEsCiAgICAgICAgICB0eXBlOiAxCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/ngrnlr7nngrnogYrlpKkKICAgICAgICB0aGlzLmNoYXQoKTsKICAgICAgfQoKICAgICAgdGhpcy5tZXNzYWdlID0gIiI7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtcyAtIHRvIOWPkemAgeWvueixoQogICAgICovCiAgICBjaGF0OiBmdW5jdGlvbiBjaGF0KCkgewogICAgICBzb2NrZXQuZW1pdCgiY2hhdCIsIHsKICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsCiAgICAgICAgdXNlcjogdGhpcy51c2VyLAogICAgICAgIHVzZXJfYXZhOiB0aGlzLnVzZXJfYXZhLAogICAgICAgIHRvOiB0aGlzLmFjdGl2ZV9jaGF0LAogICAgICAgIHR5cGU6IDIKICAgICAgfSk7CiAgICB9LAogICAgLy/nmbvlvZUKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBfbG9naW4odGhpcy51c2VyLCB0aGlzLnB3ZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmVycmNvZGUgPT0gMCkgewogICAgICAgICAgc29ja2V0LmVtaXQoIm5ld1VzZXIiLCB7CiAgICAgICAgICAgIHVzZXI6IF90aGlzMy51c2VyCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy51c2VyX2F2YSA9IHJlcy5kYXRhLmRhdGEudXNlcl9hdmE7CiAgICAgICAgICBsb2NhbGZvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbSgidXNlcl9hdmEiLCByZXMuZGF0YS5kYXRhLnVzZXJfYXZhKTsKICAgICAgICAgIGxvY2FsZm9yYWdlLmdldEl0ZW0oImNoYXRIaXN0b3J5XyIgKyBfdGhpczMudXNlciwgZnVuY3Rpb24gKGVyciwgdmFsdWUpIHsKICAgICAgICAgICAgZXJyICYmIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgX3RoaXMzLm1lc3NhZ2VMaXN0ID0gdmFsdWUgfHwgX3RoaXMzLm1lc3NhZ2VMaXN0OwogICAgICAgICAgfSk7CiAgICAgICAgICBzb2NrZXQub3BlbigpOwogICAgICAgICAgX3RoaXMzLmxvZ2luU3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczMuJHRvYXN0LnN1Y2Nlc3MoIueZu+W9leaIkOWKnyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJHRvYXN0LmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ms6jlhowKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBfcmVnaXN0ZXIodGhpcy51c2VyLCB0aGlzLnB3ZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmVycmNvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXM0LiR0b2FzdC5zdWNjZXNzKCLms6jlhozmiJDlip8s6K+355m75b2VIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC4kdG9hc3QuZXJyb3IocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+ajgOafpeaYr+WQpueZu+W9lQogICAgY2hlY2tJZkxvZ2luOiBmdW5jdGlvbiBjaGVja0lmTG9naW4oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgbG9jYWxmb3JhZ2UuZ2V0SXRlbSgidG9rZW4iLCBmdW5jdGlvbiAoZXJyLCB2YWx1ZSkgewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICBjaGVja0xvZ2luKHZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmVycmNvZGUgPT0gMCkgewogICAgICAgICAgICAgIHNvY2tldC5vcGVuKCk7CiAgICAgICAgICAgICAgX3RoaXM1LnVzZXIgPSByZXMuZGF0YS5kYXRhLnVzZXJfbmFtZTsKICAgICAgICAgICAgICBfdGhpczUudXNlcl9hdmEgPSByZXMuZGF0YS5kYXRhLnVzZXJfYXZhOwogICAgICAgICAgICAgIGxvY2FsZm9yYWdlLnNldEl0ZW0oInVzZXJfYXZhIiwgcmVzLmRhdGEuZGF0YS51c2VyX2F2YSk7CiAgICAgICAgICAgICAgc29ja2V0LmVtaXQoIm5ld1VzZXIiLCB7CiAgICAgICAgICAgICAgICB1c2VyOiByZXMuZGF0YS5kYXRhLnVzZXJfbmFtZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpczUuaW5pdERhdGEoKTsKCiAgICAgICAgICAgICAgX3RoaXM1LmxvZ2luU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+eCueWHu+a2iOaBr+agj+afkOS4qua2iOaBrwogICAgZm9jdXNNZXNzYWdlSXRlbTogZnVuY3Rpb24gZm9jdXNNZXNzYWdlSXRlbSh1c2VyX25hbWUsIGluZGV4KSB7CiAgICAgIHRoaXMuYWN0aXZlX2NoYXQgPSB1c2VyX25hbWU7CiAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICB0aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5pc19yZWFkID0gMTsKICAgICAgdmFyIGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5tZXNzYWdlX2xpc3QpOwogICAgICB0aGlzLm1lc3NhZ2VzID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTsKICAgICAgdGhpcy5zcmNvbGxUb0JvdHRvbSgpOwogICAgICB0aGlzLnN5bmNUb0xvY2FsKCk7CiAgICB9LAogICAgY2hhbmdlQWN0aXZlVHlwZTogZnVuY3Rpb24gY2hhbmdlQWN0aXZlVHlwZSh0eXBlKSB7CiAgICAgIHRoaXMuYWN0aXZlX3R5cGUgPSB0eXBlOwoKICAgICAgaWYgKHR5cGUgPT0gImZyaWVuZCIpIHsKICAgICAgICB0aGlzLmdldEZyaWVuZExpc3QoKTsKICAgICAgfQogICAgfSwKICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKHVzZXJfbmFtZSkgewogICAgICB0aGlzLm1vZGFsX2FjdGl2ZV91c2VyID0gdXNlcl9uYW1lOwogICAgICB0aGlzLmFkZEZyaWVuZE1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZVNpbXBsZURpYWxvZzogZnVuY3Rpb24gY2xvc2VTaW1wbGVEaWFsb2coKSB7CiAgICAgIHRoaXMubW9kYWxfYWN0aXZlX3VzZXIgPSBudWxsOwogICAgICB0aGlzLmFkZEZyaWVuZE1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgLy/miZPlvIDnlKjmiLfkv6Hmga/pnaLmnb8KICAgIG9wZW5Vc2VySW5mb1BhbmVsOiBmdW5jdGlvbiBvcGVuVXNlckluZm9QYW5lbCgpIHsKICAgICAgdGhpcy5wZXJzb25uYWxJbmZvTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIC8v5YWz6Zet55So5oi35L+h5oGv6Z2i5p2/CiAgICBjbG9zZVVzZXJJbmZvUGFuZWw6IGZ1bmN0aW9uIGNsb3NlVXNlckluZm9QYW5lbCgpIHsKICAgICAgdGhpcy5wZXJzb25uYWxJbmZvTW9kYWwgPSBmYWxzZTsKICAgIH0sCiAgICAvL+ivt+axgua3u+WKoOWlveWPiwogICAgc2VuZEFkZEZyaWVuZFRhc2s6IGZ1bmN0aW9uIHNlbmRBZGRGcmllbmRUYXNrKCkgewogICAgICBpby5lbWl0KCJhZGRGcmllbmRUbyIsIHsKICAgICAgICBmcm9tOiB7CiAgICAgICAgICB1c2VyX25hbWU6IHRoaXMudXNlciwKICAgICAgICAgIHVzZXJfYXZhOiB0aGlzLnVzZXJfYXZhCiAgICAgICAgfSwKICAgICAgICB0bzogdGhpcy5tb2RhbF9hY3RpdmVfdXNlcgogICAgICB9KTsKICAgIH0sCiAgICBnZXRGcmllbmRMaXN0OiBmdW5jdGlvbiBnZXRGcmllbmRMaXN0KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGxvY2FsZm9yYWdlLmdldEl0ZW0oInRva2VuIikudGhlbihmdW5jdGlvbiAodG9rZW4pIHsKICAgICAgICByZXR1cm4gX2dldEZyaWVuZExpc3QoX3RoaXM2LnVzZXIsIHRva2VuKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmVycmNvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXM2LmZyaWVuZExpc3QgPSByZXMuZGF0YS5kYXRhLnVzZXJfZnJpZW5kczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlQm90dG9tU2hlZXQ6IGZ1bmN0aW9uIGNsb3NlQm90dG9tU2hlZXQodmFsdWUpIHsKICAgICAgdGhpcy5ib3R0b21TaGVldE9wZW4gPSBmYWxzZTsKICAgIH0sCiAgICBvcGVuQm90dHRvbVNoZWV0OiBmdW5jdGlvbiBvcGVuQm90dHRvbVNoZWV0KGluZGV4KSB7CiAgICAgIHRoaXMuYm90dG9tTm93SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5ib3R0b21TaGVldE9wZW4gPSB0cnVlOwogICAgfSwKICAgIHNlbGVjdEJvdHRvbVNoZWV0OiBmdW5jdGlvbiBzZWxlY3RCb3R0b21TaGVldCh0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgImNoYXQiOgogICAgICAgICAgdGhpcy5hY3RpdmVfdHlwZSA9ICJjaGF0IjsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICIiOyAvL+inguWvn+aYr+WQpuW3sue7j+WtmOWcqOa0u+WKqOeahOWvueivneWIl+ihqAoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tZXNzYWdlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlTGlzdFtpXS51c2VyX25hbWUgPT0gdGhpcy5mcmllbmRMaXN0W3RoaXMuYm90dG9tTm93SW5kZXhdLnVzZXJfbmFtZSkgewogICAgICAgICAgICAgIC8v5aaC5p6c5a2Y5Zyo5LqGIOWIh+aNouWIsOW9k+WJjei/meS4quS6ugogICAgICAgICAgICAgIHRoaXMuZm9jdXNNZXNzYWdlSXRlbSh0aGlzLm1lc3NhZ2VMaXN0W2ldLnVzZXJfbmFtZSwgaSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8v5aaC5p6c5rKh5pyJIOWFiOaWsOWiniDlnKjliIfmjaLliLDov5nkuKrkuroKCgogICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdC5wdXNoKHsKICAgICAgICAgICAgdXNlcl9uYW1lOiB0aGlzLmZyaWVuZExpc3RbdGhpcy5ib3R0b21Ob3dJbmRleF0udXNlcl9uYW1lLAogICAgICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICAgICAgYXZhOiB0aGlzLmZyaWVuZExpc3RbdGhpcy5ib3R0b21Ob3dJbmRleF0udXNlcl9hdmEsCiAgICAgICAgICAgIGlzX3JlYWQ6IDEsCiAgICAgICAgICAgIG1lc3NhZ2VfbGlzdDogW10KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5mb2N1c01lc3NhZ2VJdGVtKHRoaXMubWVzc2FnZUxpc3RbdGhpcy5tZXNzYWdlTGlzdC5sZW5ndGggLSAxXS51c2VyX25hbWUsIHRoaXMubWVzc2FnZUxpc3QubGVuZ3RoIC0gMSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZGVsZXRlIjoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog5om+5Yiw5a+55bqU6LSm5Y+355qE5Lq65Zyo5pWw57uE5Lit55qE5L2N572uCiAgICAgKi8KICAgIGZpbmRJbmRleEJ5VXNlcm5hbWU6IGZ1bmN0aW9uIGZpbmRJbmRleEJ5VXNlcm5hbWUobmFtZSkgewogICAgICB2YXIgbGVuID0gdGhpcy5tZXNzYWdlTGlzdC5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMubWVzc2FnZUxpc3RbaV0udXNlcl9uYW1lID09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIC0xOwogICAgfSwKCiAgICAvKioKICAgICAqIOWQjOatpeWIsOacrOWcsOWOhuWPsuiusOW9lQogICAgICovCiAgICBzeW5jVG9Mb2NhbDogZnVuY3Rpb24gc3luY1RvTG9jYWwoKSB7CiAgICAgIGxvY2FsZm9yYWdlLnNldEl0ZW0oImNoYXRIaXN0b3J5XyIgKyB0aGlzLnVzZXIsIHRoaXMubWVzc2FnZUxpc3QpOwogICAgfSwKICAgIGhhbmRsZUNoYXRNZXNzYWdlOiBmdW5jdGlvbiBoYW5kbGVDaGF0TWVzc2FnZShkYXRhKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4QnlVc2VybmFtZShkYXRhLnVzZXIpOwoKICAgICAgaWYgKGluZGV4ID09IC0xKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlTGlzdC5wdXNoKHsKICAgICAgICAgIHVzZXJfbmFtZTogZGF0YS51c2VyLAogICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgYXZhOiBkYXRhLmF2YSwKICAgICAgICAgIGlzX3JlYWQ6IDAsCiAgICAgICAgICBtZXNzYWdlX2xpc3Q6IFtkYXRhXQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5Yib5bu65LiA5Liq5pyq6K+75raI5oGvCiAgICAgICAgdGhpcy5tZXNzYWdlTGlzdFtpbmRleF0ubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgICB0aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5tZXNzYWdlX2xpc3QucHVzaChkYXRhKTsKICAgICAgICB0aGlzLm1lc3NhZ2VMaXN0W2luZGV4XS5pc19yZWFkID0gMDsKCiAgICAgICAgaWYgKHRoaXMuYWN0aXZlX2NoYXQgPT0gZGF0YS51c2VyKSB7CiAgICAgICAgICAvL+WmguaenOaYr+W9k+WJjeiBiuWkqQogICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKGRhdGEpOwogICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdFtpbmRleF0uaXNfcmVhZCA9IDE7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnNyY29sbFRvQm90dG9tKCk7CiAgICAgIHRoaXMuc3luY1RvTG9jYWwoKTsKICAgIH0sCiAgICBzcmNvbGxUb0JvdHRvbTogZnVuY3Rpb24gc3Jjb2xsVG9Cb3R0b20oKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVzc2FnZV9zaG93JylbMF07CiAgICAgICAgYXJlYS5zY3JvbGxUb3AgPSBhcmVhLnNjcm9sbEhlaWdodDsKICAgICAgfSwgMTAwKTsKICAgIH0sCiAgICBhZGRGcmllbmQ6IGZ1bmN0aW9uIGFkZEZyaWVuZCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRwcm9tcHQoJ+ivt+i+k+WFpeimgea3u+WKoOeahOi0puWPtycsICfmj5DnpLonKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IF9yZWYucmVzdWx0LAogICAgICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7CgogICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgIGlvLmVtaXQoImFkZEZyaWVuZFRvIiwgewogICAgICAgICAgICBmcm9tOiB7CiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBfdGhpczcudXNlciwKICAgICAgICAgICAgICB1c2VyX2F2YTogX3RoaXM3LnVzZXJfYXZhCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvOiB2YWx1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM3LiR0b2FzdC5zdWNjZXNzKCfor7fmsYLlt7Llj5HpgIEnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM3LiR0b2FzdC5tZXNzYWdlKCfngrnlh7vkuoblj5bmtognKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"ct\">\n        <header>v1.0.0</header>\n\n        <!-- 登录模块 -->\n        <mu-paper class=\"login_wrapper\" :z-depth=\"3\" v-if=\"!loginStatus\">\n            <div class=\"login_item\">\n                <span>用户名：</span>\n                <input type=\"text\" v-model=\"user\" class=\"sinput\"/>\n            </div>\n            <div class=\"login_item\">\n                <span>密码:</span>\n                <input type=\"password\" v-model=\"pwd\" class=\"sinput\"/>\n            </div>\n            <div class=\"login_footer\">\n                <mu-button color=\"primary\" @click=\"register()\">注册</mu-button>\n                <mu-button color=\"primary\" @click=\"login()\">登录</mu-button>\n            </div>\n        </mu-paper>\n\n        <!-- 主界面 -->\n        <mu-paper v-if=\"loginStatus\" class=\"message_box\" :z-depth=\"4\">\n\n            <!-- 左侧功能栏 -->\n            <div class=\"function_pannel\">\n                <div class=\"function_pannel_ava\" @click=\"openUserInfoPanel()\">\n                    <img :src=\"user_ava?user_ava:defaultAva\" alt/>\n                </div>\n                <mu-tooltip content=\"聊天信息\" placement=\"right\">\n                    <div class=\"function_pannel_chat\" @click=\"changeActiveType('chat')\">\n                        <mu-icon size=\"40\" value=\"chat\" color=\"white\" v-show=\"active_type!='chat'\"></mu-icon>\n                        <mu-icon size=\"40\" value=\"chat\" color=\"lightblue\" v-show=\"active_type=='chat'\"></mu-icon>\n                    </div>\n                </mu-tooltip>\n                <mu-tooltip content=\"好友列表\" placement=\"right\">\n                    <div class=\"function_pannel_friend\" @click=\"changeActiveType('friend')\">\n                        <mu-icon size=\"40\" value=\"contacts\" color=\"white\" v-show=\"active_type!='friend'\"></mu-icon>\n                        <mu-icon size=\"40\" value=\"contacts\" color=\"lightblue\" v-show=\"active_type=='friend'\"></mu-icon>\n                    </div>\n                </mu-tooltip>\n                <mu-tooltip content=\"添加好友\" placement=\"right\">\n                    <div class=\"function_pannel_friend\" @click=\"addFriend()\">\n                        <mu-icon size=\"40\" value=\"add_box\" color=\"white\" v-show=\"active_type!='friend'\"></mu-icon>\n                    </div>\n                </mu-tooltip>\n            </div>\n\n            <!-- 右侧功能区-->\n            <div class=\"function_area\" v-show=\"active_type=='chat'\">\n\n                <!-- 消息栏 -->\n                <div class=\"messageList\">\n                    <div\n                            v-for=\"(item, index) in messageList\"\n                            :key=\"index\"\n                            class=\"messageItem\"\n                            @click=\"focusMessageItem(item.user_name,index)\"\n                    >\n                        <div class=\"messageItem_leftside\">\n                            <img :src=\"item.ava\" alt/>\n                            <span v-show=\"item.is_read===0\"></span>\n                        </div>\n                        <div class=\"messageItem_rightside\">\n                            <span>{{item.user_name}}</span>\n                            <p>{{item.message}}</p>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- 聊天区域 -->\n                <div class=\"chat_area\">\n                    <div class=\"chat_area_header\">\n                        <span class=\"chat_area_who\">{{active_chat}}</span>\n                    </div>\n                    <div class=\"message_show\">\n                        <div\n                                v-for=\"(item, index) in messages\"\n                                :key=\"index\"\n                                :class=\"item.user!=user?'message_item':'message_item_me'\"\n                        >\n                            <img\n                                    :src=\"item.ava\"\n                                    alt\n                                    class=\"message_ava\"\n                                    v-if=\"item.user!=user\"\n                                    @click=\"openModal(item.user)\"\n                            />\n                            <div class=\"message_item_right\" v-if=\"item.user!=user\">\n                                <p class=\"message_title_you\">\n                                    <span>{{item.user}}</span>\n                                    <span class=\"message_time\">{{item.time}}</span>\n                                    <span class=\"level_label\"></span>\n                                </p>\n                                <p class=\"message_content_you\">\n                                    <span class=\"message_triangle_you\"></span>\n                                    {{item.message}}\n                                </p>\n                            </div>\n\n                            <div class=\"message_item_right_me\" v-if=\"item.user==user\">\n                                <p class=\"message_title_me\">\n                                    <span>{{item.user}}</span>\n                                    <span class=\"message_time\">{{item.time}}</span>\n                                    <span class=\"level_label\"></span>\n                                </p>\n                                <p class=\"message_content_me\">\n                                    <span class=\"message_triangle_me\"></span>\n                                    {{item.message}}\n                                </p>\n                            </div>\n                            <img :src=\"item.ava\" alt class=\"message_ava\" v-if=\"item.user==user\"/>\n                        </div>\n                    </div>\n                    <div class=\"message_send\">\n                        <div class=\"message_function_bar\"></div>\n                        <div class=\"send_btn\" @click=\"submitMessage\"><span>发送</span></div>\n                        <textarea v-model=\"message\" class=\"send_message_box\" @keypress.enter=\"submitMessage\"/>\n                    </div>\n                </div>\n            </div>\n\n            <!-- 好友列表 -->\n            <div class=\"function_area\" v-show=\"active_type=='friend'\">\n                <div class=\"function_area_friend\">\n                    <mu-expansion-panel style=\"margin: 0;background-color:#eeeeee;padding: 0;\">\n                        <div slot=\"header\">新朋友</div>\n                        <div class=\"friendList\">\n                            <div\n                                    class=\"messageItem\"\n                                    v-for=\"(item, index) in newFriendList\"\n                                    :key=\"index+'c'\"\n                                    @click=\"openBotttomSheet(index)\"\n                            >\n                                <div class=\"messageItem_leftside\">\n                                    <img :src=\"item.from.user_ava\" alt/>\n                                </div>\n                                <div class=\"messageItem_rightside\">\n                                    <span>{{item.from.user_name}}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </mu-expansion-panel>\n                    <mu-expansion-panel style=\"margin: 0;background-color:#eeeeee;padding: 0;\">\n                        <div slot=\"header\">好友列表</div>\n                        <div class=\"friendList\">\n                            <div\n                                    class=\"messageItem\"\n                                    v-for=\"(item, index) in friendList\"\n                                    :key=\"index+'c'\"\n                                    @click=\"openBotttomSheet(index)\"\n                            >\n                                <div class=\"messageItem_leftside\">\n                                    <img :src=\"item.user_ava\" alt/>\n                                </div>\n                                <div class=\"messageItem_rightside\">\n                                    <span>{{item.user_name}}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </mu-expansion-panel>\n                </div>\n            </div>\n        </mu-paper>\n        <!-- 弹层类 -->\n\n        <!--添加好友弹窗-->\n        <mu-dialog title=\"提示\" width=\"360\" :open.sync=\"addFriendModal\">\n            要加此人为好友吗？\n            <mu-button slot=\"actions\" flat color=\"primary\" @click=\"sendAddFriendTask()\">是</mu-button>\n            <mu-button slot=\"actions\" flat color=\"primary\" @click=\"closeSimpleDialog()\">否</mu-button>\n        </mu-dialog>\n\n<!--        <mu-dialog title=\"输入账号?\" width=\"600\" max-width=\"80%\" :esc-press-close=\"false\" :overlay-close=\"false\" :open.sync=\"openAlert\">-->\n<!--            <mu-text-field v-model=\"form.input\"></mu-text-field>-->\n<!--            <mu-button slot=\"actions\" flat color=\"primary\" @click=\"closeAlertDialog\">Disagree</mu-button>-->\n<!--            <mu-button slot=\"actions\" flat color=\"primary\" @click=\"closeAlertDialog\">Agree</mu-button>-->\n<!--        </mu-dialog>-->\n\n        <!--个人信息面板弹窗-->\n        <mu-dialog title=\"设置\" width=\"500\" height=\"600\" :open.sync=\"personnalInfoModal\">\n            <div class=\"pannel_box\">\n                <div class=\"left_side\">\n                    <div>账号设置</div>\n                    <div>通用设置</div>\n                    <div>关于聊天室</div>\n                </div>\n                <div class=\"right_side\">\n                    <div class=\"account_setting\">\n                        <img :src=\"user_ava\" alt class=\"mb10\"/>\n                        <span class=\"mb10\">用户账号:{{user}}</span>\n                        <mu-button slot=\"actions\">退出登录</mu-button>\n                    </div>\n                </div>\n            </div>\n        </mu-dialog>\n\n        <mu-container>\n            <mu-bottom-sheet :open.sync=\"bottomSheetOpen\">\n                <mu-list @item-click=\"closeBottomSheet()\">\n                    <mu-sub-header>Select One</mu-sub-header>\n                    <mu-list-item button @click=\"selectBottomSheet('chat')\">\n                        <mu-list-item-action>\n                            <mu-icon value=\"chat\" color=\"green\"></mu-icon>\n                        </mu-list-item-action>\n                        <mu-list-item-title>发消息</mu-list-item-title>\n                    </mu-list-item>\n                    <mu-list-item button>\n                        <mu-list-item-action>\n                            <mu-icon value=\"close\" color=\"red\"></mu-icon>\n                        </mu-list-item-action>\n                        <mu-list-item-title>删除好友</mu-list-item-title>\n                    </mu-list-item>\n                </mu-list>\n            </mu-bottom-sheet>\n        </mu-container>\n    </div>\n</template>\n<script>\n  import io from \"socket.io-client\";\n  import localforage from \"localforage\";\n  import defaultAva from \"../assets/defaultAva.png\";\n\n  const socket = io(\"http://localhost:8086\", {\n    transports: [\"websocket\", \"xhr-polling\", \"jsonp-polling\"],\n    autoConnect: false\n  }); //顺带解决本地的跨域\n  import { login, register, checkLogin, getFriendList } from \"../api/chat\";\n\n  export default {\n    data() {\n      return {\n        messageList: [\n          {\n            user_name: \"聊天广场\",\n            message: \"\",\n            ava: \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1869386756,1749725382&fm=26&gp=0.jpg\",\n            is_read: 1,\n            message_list: []\n          }\n        ], //消息栏\n        loginStatus: false,\n        loading: true,\n        user: \"\",\n        pwd: \"\",\n        addFriendModal: false, // 加好友的弹窗\n        modal_active_user: null, // 加好友弹窗暂存的被添加者\n        personnalInfoModal: false, //个人信息弹窗\n        user_ava: \"\",\n        defaultAva, //默认头像\n        friendList: [],\n        newFriendList: [],//新的好友请求列表\n        bottomSheetOpen: false,\n        bottomNowIndex: null, //当前正在操作的好友 在数组中的位置\n        active_type: \"chat\",\n        messages: [], //当前聊天框聊天信息\n        active_chat: \"聊天广场\",//当前聊天框所属\n        message: \"\", //发送框内的信息\n        input_addFriendDialog:false, //输入好友账号 添加好友\n      };\n    },\n    mounted() {\n      //处理连接\n      socket.on(\"connect\", () => {\n        this.$toast.success(\"聊天室连接正常\");\n      });\n      //处理失连\n      socket.on(\"disconnect\", () => {\n        this.$toast.error(\"失去连接\");\n      });\n      //检查是否已经登录过\n      this.checkIfLogin();\n      //处理广播\n      socket.on(\"sayback\", data => {\n        \"/;.\";\n        let index = this.findIndexByUsername(\"聊天广场\");\n        if (this.active_chat === \"聊天广场\") {\n          this.messageList[index].is_read = 1;\n          this.messageList[index].message = data.message;\n          this.messageList[index].message_list.push(data);\n          this.messages.push(data);\n        } else {\n          this.messageList[index].message_list.push(data);\n          this.messageList[index].is_read = 0;\n        }\n      });\n\n      //接收点对点聊天消息\n      socket.on(\"chatBack\", data => {\n        this.handleChatMessage(data);\n      });\n\n      socket.on(\"chatBackSelf\", data => {\n        let index = this.findIndexByUsername(this.active_chat);\n        this.messages.push(data);\n        this.messageList[index].message_list.push(data);\n        this.srcollToBottom();\n        this.syncToLocal();\n      });\n\n      //聊天广场 处理自己的消息\n      socket.on(\"self\", data => {\n        this.messages.push(data);\n        this.messageList[0].message_list.push(data);\n      });\n\n      //别人发来的好友请求\n      socket.on(\"addFriendFrom\", data => {\n        this.newFriendList.unshift(data);\n      });\n\n      //检查离线消息\n      socket.on('offLineMessages',data=>{\n        data.forEach((item)=>{\n            this.handleChatMessage(JSON.parse(item));\n        })\n        socket.emit('offLineMessagesReceived',{user:this.user})\n      });\n    },\n    beforeDestroy() {\n      socket.close();\n    },\n    methods: {\n      initData() {\n        //用户头像\n        localforage.getItem(\"user_ava\", (err, value) => {\n          err && console.error(err);\n          this.user_ava = value;\n        });\n        //消息记录\n        localforage.getItem(\"chatHistory_\" + this.user, (err, value) => {\n          err && console.error(err);\n          this.messageList = value || this.messageList;\n        });\n      },\n      //聊天广场\n      submitMessage(e) {\n        e.preventDefault();\n        if (this.message == \"\") return;\n        if (this.active_chat == \"聊天广场\") { //群发\n          socket.emit(\"say\", {\n            message: this.message,\n            user: this.user,\n            user_ava: this.user_ava,\n            type: 1\n          });\n        } else { //点对点聊天\n          this.chat();\n        }\n        this.message = \"\";\n      },\n      /**\n       * @params - to 发送对象\n       */\n      chat() {\n        socket.emit(\"chat\", {\n          message: this.message,\n          user: this.user,\n          user_ava: this.user_ava,\n          to: this.active_chat,\n          type: 2\n        });\n      },\n      //登录\n      login() {\n        login(this.user, this.pwd).then(res => {\n          if (res.data.errcode == 0) {\n            socket.emit(\"newUser\", { user: this.user });\n            this.user_ava = res.data.data.user_ava;\n            localforage.setItem(\"token\", res.data.data.token);\n            localforage.setItem(\"user_ava\", res.data.data.user_ava);\n            localforage.getItem(\"chatHistory_\" + this.user, (err, value) => {\n              err && console.error(err);\n              this.messageList = value || this.messageList;\n            });\n            socket.open();\n            this.loginStatus = true;\n            this.$toast.success(\"登录成功\");\n          } else {\n            this.$toast.error(res.data.message);\n          }\n        });\n      },\n\n      //注册\n      register() {\n        register(this.user, this.pwd).then(res => {\n          if (res.data.errcode == 0) {\n            this.$toast.success(\"注册成功,请登录\");\n          } else {\n            this.$toast.error(res.data.message);\n          }\n        });\n      },\n\n      //检查是否登录\n      checkIfLogin() {\n        localforage.getItem(\"token\", (err, value) => {\n          if (!err) {\n            checkLogin(value).then(res => {\n              if (res.data.errcode == 0) {\n                socket.open();\n                this.user = res.data.data.user_name;\n                this.user_ava = res.data.data.user_ava;\n                localforage.setItem(\"user_ava\", res.data.data.user_ava);\n                socket.emit(\"newUser\", { user: res.data.data.user_name });\n                this.initData();\n                this.loginStatus = true;\n              }\n            });\n          } else {\n            this.loading = false;\n          }\n        });\n      },\n\n      //点击消息栏某个消息\n      focusMessageItem(user_name,index) {\n        this.active_chat = user_name;\n        this.message = \"\";\n        this.messageList[index].is_read = 1;\n        let jsonString = JSON.stringify(this.messageList[index].message_list);\n        this.messages = JSON.parse(jsonString);\n        this.srcollToBottom();\n        this.syncToLocal();\n      },\n\n      changeActiveType(type) {\n        this.active_type = type;\n        if (type == \"friend\") {\n          this.getFriendList();\n        }\n      },\n\n      openModal(user_name) {\n        this.modal_active_user = user_name;\n        this.addFriendModal = true;\n      },\n\n      closeSimpleDialog() {\n        this.modal_active_user = null;\n        this.addFriendModal = false;\n      },\n\n      //打开用户信息面板\n      openUserInfoPanel() {\n        this.personnalInfoModal = true;\n      },\n      //关闭用户信息面板\n      closeUserInfoPanel() {\n        this.personnalInfoModal = false;\n      },\n\n      //请求添加好友\n      sendAddFriendTask() {\n        io.emit(\n          \"addFriendTo\", {\n            from: {\n              user_name: this.user,\n              user_ava: this.user_ava\n            },\n            to: this.modal_active_user\n          }\n        );\n      },\n\n      getFriendList() {\n        localforage\n          .getItem(\"token\")\n          .then(token => {\n            return getFriendList(this.user, token);\n          })\n          .then(res => {\n            if (res.data.errcode == 0) {\n              this.friendList = res.data.data.user_friends;\n            }\n          });\n      },\n\n      closeBottomSheet(value) {\n        this.bottomSheetOpen = false;\n      },\n\n      openBotttomSheet(index) {\n        this.bottomNowIndex = index;\n        this.bottomSheetOpen = true;\n      },\n\n      selectBottomSheet(type) {\n        switch (type) {\n          case \"chat\":\n            this.active_type = \"chat\";\n            this.message = \"\";\n            //观察是否已经存在活动的对话列表\n            for (let i = 0; i < this.messageList.length; i++) {\n              if (\n                this.messageList[i].user_name ==\n                this.friendList[this.bottomNowIndex].user_name\n              ) {\n                //如果存在了 切换到当前这个人\n                this.focusMessageItem(this.messageList[i].user_name,i);\n                return;\n              }\n            }\n            //如果没有 先新增 在切换到这个人\n            this.messageList.push({\n              user_name: this.friendList[this.bottomNowIndex].user_name,\n              message: \"\",\n              ava: this.friendList[this.bottomNowIndex].user_ava,\n              is_read: 1,\n              message_list: []\n            });\n            this.focusMessageItem(this.messageList[this.messageList.length-1].user_name,this.messageList.length-1);\n            break;\n          case \"delete\":\n            break;\n        }\n      },\n\n      /**\n       * 找到对应账号的人在数组中的位置\n       */\n\n      findIndexByUsername(name) {\n        let len = this.messageList.length;\n        for (let i = 0; i < len; i++) {\n          if (this.messageList[i].user_name == name) {\n            return i;\n          }\n        }\n        return -1;\n      },\n\n      /**\n       * 同步到本地历史记录\n       */\n      syncToLocal() {\n        localforage.setItem(\"chatHistory_\" + this.user, this.messageList);\n      },\n\n      handleChatMessage(data){\n        let index = this.findIndexByUsername(data.user);\n        if (index == -1) {\n          this.messageList.push({\n            user_name: data.user,\n            message: data.message,\n            ava: data.ava,\n            is_read: 0,\n            message_list: [data]\n          });\n        } else {\n          //创建一个未读消息\n          this.messageList[index].message = data.message;\n          this.messageList[index].message_list.push(data);\n          this.messageList[index].is_read = 0;\n          if (this.active_chat == data.user) { //如果是当前聊天\n            this.messages.push(data);\n            this.messageList[index].is_read = 1;\n          }\n        }\n        this.srcollToBottom();\n        this.syncToLocal();\n      },\n      srcollToBottom(){\n        setTimeout(()=>{\n          let area = document.getElementsByClassName('message_show')[0];\n          area.scrollTop = area.scrollHeight;\n        },100)\n      },\n      addFriend(){\n        this.$prompt('请输入要添加的账号', '提示').then(({ result, value }) => {\n          if (result) {\n            io.emit(\n              \"addFriendTo\", {\n                from: {\n                  user_name: this.user,\n                  user_ava: this.user_ava\n                },\n                to: value\n              }\n            );\n            this.$toast.success('请求已发送');\n          } else {\n            this.$toast.message('点击了取消');\n          }\n        });\n      }\n    }\n  };\n</script>\n<style lang=\"less\" scoped>\n    .ct {\n        height: 100%;\n        width: 100%;\n        background: -webkit-linear-gradient(-225deg,\n        rgba(239, 0, 252, 1) 0,\n        rgba(109, 9, 239, 1) 100%);\n        background: -moz-linear-gradient(315deg,\n        rgba(239, 0, 252, 1) 0,\n        rgba(109, 9, 239, 1) 100%);\n        background: linear-gradient(315deg,\n        rgba(239, 0, 252, 1) 0,\n        rgba(109, 9, 239, 1) 100%);\n        background-position: 50% 50%;\n        overflow: hidden;\n        position: relative;\n\n        header {\n            font-size: 50px;\n            text-align: center;\n            color: white;\n            margin-top: 30px;\n        }\n\n        .login_wrapper {\n            opacity: 1;\n            background-color: white;\n            width: 350px;\n            height: 260px;\n            position: fixed;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            padding: 20px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n\n            .login_item {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                margin-bottom: 20px;\n\n                span {\n                    width: 80px;\n                }\n            }\n\n            .login_footer {\n                width: 100%;\n                display: flex;\n                justify-content: space-around;\n            }\n        }\n    }\n\n    .message_box {\n        background-color: white;\n        margin: 30px auto;\n        width: 900px;\n        height: 600px;\n        display: flex;\n\n        .function_pannel {\n            width: 70px;\n            height: 100%;\n            background-color: #333333;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            .function_pannel_ava {\n                width: 70px;\n                height: 70px;\n                padding: 10px;\n                cursor: pointer;\n\n                img {\n                    width: 50px;\n                    height: 50px;\n                }\n            }\n\n            .function_pannel_chat {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                margin-top: 20px;\n            }\n\n            .function_pannel_friend {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                margin-top: 20px;\n            }\n        }\n\n        .function_area {\n            flex: 1;\n            display: flex;\n\n            .messageList {\n                width: 260px;\n\n                .messageItem {\n                    width: 100%;\n                    height: 60px;\n                    border-bottom: 1px solid #eeeeee;\n                    display: flex;\n                    align-items: center;\n                    padding: 10px;\n                    cursor: pointer;\n\n                    .messageItem_leftside {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        position: relative;\n                        width: 40px;\n                        height: 40px;\n\n                        img {\n                            width: 40px;\n                            height: 40px;\n                        }\n\n                        span {\n                            position: absolute;\n                            width: 10px;\n                            height: 10px;\n                            border-radius: 5px;\n                            background-color: red;\n                            right: -5px;\n                            top: -5px;\n                        }\n                    }\n\n                    .messageItem_rightside {\n                        margin-left: 10px;\n\n                        p {\n                            color: grey;\n                            font-size: 10px;\n                        }\n                    }\n                }\n            }\n\n            .chat_area {\n                flex: 1;\n\n                .chat_area_header {\n                    height: 70px;\n                    background-color: rgb(243, 243, 243);\n                    display: flex;\n                    align-items: center;\n                    font-size: 20px;\n                    padding: 0 20px;\n                }\n            }\n\n            .friendList {\n                .messageList();\n                background-color: #eeeeee;\n            }\n\n            .friendInfo {\n                .chat_area();\n            }\n\n            .function_area_friend {\n                width: 308px;\n                background-color: #eeeeee;\n            }\n        }\n\n        .message_show {\n            height: 400px;\n            margin: 0 auto;\n            overflow-y: auto;\n            background-color: rgb(243, 243, 243);\n            padding: 20px;\n            border-bottom: 1px solid #cccccc;\n            border-top: 1px solid #cccccc;\n\n            .message_time {\n                font-size: 10px;\n            }\n\n            .message_title_you {\n                color: grey;\n                font-size: 14px;\n\n                span {\n                    margin-left: 10px;\n                }\n            }\n\n            .message_title_me {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                color: grey;\n                font-size: 14px;\n\n                span {\n                    margin-right: 10px;\n                }\n            }\n\n            .message_item {\n                display: flex;\n                align-items: center;\n                margin-bottom: 10px;\n                width: 100%;\n            }\n\n            .message_item_me {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                margin-bottom: 10px;\n                width: 100%;\n            }\n\n            .message_content_me {\n                position: relative;\n                padding: 5px;\n                margin-right: 20px;\n                min-height: 30px;\n                border-radius: 5px;\n                background-color: lightblue;\n                min-width: 200px;\n                max-width: 300px;\n                display: flex;\n                align-items: center;\n                flex-wrap: wrap;\n                word-break: break-all;\n            }\n\n            .message_content_you {\n                position: relative;\n                padding: 5px;\n                margin-left: 20px;\n                min-height: 30px;\n                border-radius: 5px;\n                background-color: white;\n                min-width: 200px;\n                max-width: 300px;\n                display: flex;\n                align-items: center;\n                flex-wrap: wrap;\n                word-break: break-all;\n            }\n\n            .message_ava {\n                width: 50px;\n                height: 50px;\n                border-radius: 8px;\n                cursor: pointer;\n            }\n\n            .message_triangle_me {\n                position: absolute;\n                right: -12px;\n                top: 10px;\n                height: 0;\n                width: 6px;\n                border-top: 6px solid lightblue;\n                border-bottom: 6px solid lightblue;\n                border-left: 6px solid lightblue;\n                border-right: 6px solid lightblue;\n                border-right-color: transparent;\n                border-bottom-color: transparent;\n                border-top-color: transparent;\n            }\n\n            .message_triangle_you {\n                position: absolute;\n                left: -12px;\n                top: 10px;\n                height: 0;\n                width: 6px;\n                border-top: 6px solid white;\n                border-bottom: 6px solid white;\n                border-left: 6px solid white;\n                border-right: 6px solid white;\n                border-left-color: transparent;\n                border-bottom-color: transparent;\n                border-top-color: transparent;\n            }\n        }\n\n        .message_send {\n            width: 100%;\n            height: 130px;\n            background-color: rgb(243, 243, 243);\n            position: relative;\n\n            .send_message_box {\n                height: 36px;\n                box-sizing: border-box;\n                width: 400px;\n                border: none;\n                background-color: #eeeeee;\n                width: 100%;\n                height: 100px;\n                outline: none;\n                box-sizing: border-box;\n                padding: 10px;\n                resize: none;\n            }\n\n            .message_function_bar {\n                width: 100%;\n                height: 30px;\n                display: flex;\n                background-color: #eeeeee;\n                background-color: #eaeaea;\n            }\n\n            .send_btn {\n                width: 80px;\n                height: 36px;\n                position: absolute;\n                right: 20px;\n                bottom: 20px;\n                border: 1px solid #eeeeee;\n                padding: 2px 10px;\n                background-color: #cccccc;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 14px;\n\n                &:hover {\n                    background-color: lightblue;\n                    color: white;\n                    cursor: pointer;\n                }\n            }\n        }\n    }\n\n    .pannel_box {\n        display: flex;\n        height: 400px;\n\n        .left_side {\n            width: 100px;\n            cursor: pointer;\n            border-right: 1px solid #eeeeee;\n\n            div:hover {\n                color: lightblue;\n            }\n        }\n\n        .right_side {\n            flex: 1;\n            padding: 20px;\n\n            .account_setting {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n\n                img {\n                    width: 80px;\n                    height: 80px;\n                }\n            }\n        }\n    }\n\n    .sinput {\n        height: 36px;\n        box-sizing: border-box;\n        border: 1px solid lightgray;\n        width: 200px;\n        border-radius: 8px;\n        padding: 0 10px;\n        outline: none;\n    }\n\n    .mr20 {\n        margin-right: 20px;\n    }\n\n    .mt10 {\n        margin-top: 10px;\n    }\n\n    .mb10 {\n        margin-bottom: 10px;\n    }\n</style>"],"sourceRoot":"src/views"}]}